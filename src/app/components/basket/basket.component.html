<div class="basket" [ngClass]="{basketToggle: isToggleBasket}">
  <div 
    class="rubanToggle d-flex flex-column"
  >
    <a
      class="arrowToggle d-flex" 
      [ngClass]="{arrowToggleAnimation: isToggleBasket}"
      (click)="displayToggleBasket($event)"
    >
      <i 
        class="fa fa-arrow-circle-right fa-3x"
      ></i>
    </a>
    <p class="reverseText">RÃ©capitulatif de votre commande</p>
  </div>

  <div class="inlineBasket d-flex flex-row">
    <div class="headerBasket d-flex flex-row">
      <h2>MON PANIER</h2>

      <i class="fa fa-shopping-cart fa-3x"></i>
    </div>

    <div class="livrAndStatus d-flex flex-row">
      <ul>
        <li><input type="radio" name="ifLivraisonOrEmporter"/></li>

        <li>En livraison</li>
      </ul>
      <ul>
        <li><input type="radio" name="ifLivraisonOrEmporter"/></li>

        <li>A Emporter</li>
      </ul>
    </div>
    <p id="orderStatus">Statut de la commande : </p>
    <div class="overScrollForm">
      <form 
        [formGroup]="finalOrderForm" 
        (ngSubmit)="onSubmit()" 
        class="formular"
      >
        <div formArrayName="pizza">
          <div 
            [formGroupName]="i" 
            *ngFor="let pizzas of pizza.controls; let i = index" 
            class="displayElement"
          >
            <label for="pizzName-{{i}}">
              <span>{{ pizzas.value.pizzasName }}</span>
              <span>{{ pizzas.value.pizzasPriceTotal }} EUR</span>
            </label>

            <div class="quantityButton">
              <button
                class="button is-outlined is-mobile"
                name="add-pizzas-quantity"
                type="button"
                (click)="quantitySelect('-', i, pizzas.value.pizzasQuantity, pizzas.value)"
              >
                -
              </button>
              
              <input
                type="text"
                name="pizzasQuantity-{{i}}"
                formControlName="pizzasQuantity"
                value="{{pizzas.value.pizzasQuantity}}"
              />
              
              <button
                class="button is-outlined is-mobile"
                name="add-pizzas-quantity"
                type="button"
                (click)="quantitySelect('+', i, pizzas.value.pizzasQuantity, pizzas.value)"
              >
                +
              </button>
            </div>
          </div>
        </div>

        <div formArrayName="beverage">
          <div 
            [formGroupName]="i" 
            *ngFor="let beverages of beverage.controls; let i = index" 
            class="displayElement"
          >
            <label for="bevName-{{i}}">
              <span>{{ beverages.value.bevName }}</span>
              <span>{{ beverages.value.bevPriceTotal }} EUR</span>
            </label>
            <div class="quantityButton">
              <button
                class="button is-outlined is-mobile"
                name="add-beverage-quantity"
                type="button"
                (click)="quantitySelect('-', i, beverages.value.bevQuantity, beverages.value)"
              >
                -
              </button>
            
              <input
                type="text"
                name="beveragesQuantity-{{i}}"
                formControlName="bevQuantity"
                value="{{beverages.value.bevQuantity}}"
              />
            
              <button
                class="button is-outlined is-mobile"
                name="add-beverages-quantity"
                type="button"
                (click)="quantitySelect('+', i, beverages.value.bevQuantity, beverages.value)"
              >
                +
              </button>
            </div>
          </div>
        </div>

        <div formArrayName="dessert">
          <div 
            [formGroupName]="i" 
            *ngFor="let desserts of dessert.controls; let i = index" 
            class="displayElement"
          >
            <label for="bevName-{{i}}">
              <span>{{ desserts.value.dessName }}</span>
              <span>{{ desserts.value.dessPriceTotal }} EUR</span>
            </label>
            <div class="quantityButton">
              <button
                class="button is-outlined is-mobile"
                name="add-dessert-quantity"
                type="button"
                (click)="quantitySelect('-', i, desserts.value.dessQuantity, desserts.value)"
              >
                  -
              </button>

              <input
                type="text"
                name="dessertsQuantity-{{i}}"
                formControlName="dessQuantity"
                value="{{desserts.value.dessQuantity}}"
              />

              <button
                class="button is-outlined is-mobile"
                name="add-desserts-quantity"
                type="button"
                (click)="quantitySelect('+', i, desserts.value.dessQuantity, desserts.value)"
              >
                  +
              </button>
            </div>
          </div>
        </div>

        <button type="submit" [disabled]="!enableSubmit">Validez votre panier</button>

        <button type="button" (click)="resetBasket()">Videz votre panier</button>
      </form>    
    </div>
    <p id="totalOrderText">
      TOTAL de votre commande {{ total }} EUR
    </p>
  </div>
</div>
